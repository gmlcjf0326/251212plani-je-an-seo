<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>오송첨단의료산업진흥재단 관리자 - 공공 의료기관</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; }
        .gov-header { background: #1e3a8a; border-bottom: 4px solid #2563eb; }
        .gov-card {
            background: white;
            border: 1px solid #e5e7eb;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }
        .stat-card {
            background: white;
            border: 1px solid #e5e7eb;
            border-left: 4px solid #1e40af;
            transition: all 0.2s;
        }
        .stat-card:hover { box-shadow: 0 4px 12px rgba(30, 64, 175, 0.1); }
        .tab-button {
            padding: 0.75rem 1.5rem;
            border: 2px solid #e5e7eb;
            background: white;
            color: #6b7280;
            font-weight: 600;
            border-radius: 4px;
            transition: all 0.2s;
        }
        .tab-button.active {
            background: #1e40af;
            color: white;
            border-color: #1e40af;
        }
        .tab-button:hover:not(.active) { border-color: #1e40af; color: #1e40af; }
    </style>
</head>
<body class="h-screen overflow-hidden bg-gray-50">
    <!-- 헤더 -->
    <header class="gov-header shadow-md">
        <div class="max-w-7xl mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-4">
                    <div class="w-12 h-12 bg-white rounded flex items-center justify-center">
                        <svg class="w-8 h-8 text-blue-900" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M19.43 12.98c.04-.32.07-.64.07-.98 0-.34-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.09-.16-.26-.25-.44-.25-.06 0-.12.01-.17.03l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.06-.02-.12-.03-.18-.03-.17 0-.34.09-.43.25l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98 0 .33.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.09.16.26.25.44.25.06 0 .12-.01.17-.03l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.06.02.12.03.18.03.17 0 .34-.09.43-.25l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"/>
                        </svg>
                    </div>
                    <div class="text-white">
                        <h1 class="text-xl font-bold">공공 의료기관 통합 관리 시스템</h1>
                        <p class="text-sm text-blue-100">AI 챗봇 운영 및 데이터 관리</p>
                    </div>
                </div>
                <div class="text-right text-white">
                    <div class="font-bold">관리자</div>
                    <div class="text-sm text-blue-100">2025-12-13 10:30</div>
                </div>
            </div>
        </div>
    </header>

    <!-- 탭 메뉴 -->
    <div class="bg-white border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-6 py-4">
            <div class="flex gap-2">
                <button class="tab-button active" onclick="showTab('dashboard')">📊 대시보드</button>
                <button class="tab-button" onclick="showTab('data')">📁 학습데이터</button>
                <button class="tab-button" onclick="showTab('intent')">🎯 의도분석</button>
                <button class="tab-button" onclick="showTab('scenario')">🔄 시나리오</button>
                <button class="tab-button" onclick="showTab('qa')">💬 Q&A관리</button>
            </div>
        </div>
    </div>

    <!-- 메인 컨텐츠 -->
    <div class="max-w-7xl mx-auto px-6 py-8 overflow-y-auto" style="max-height: calc(100vh - 160px);">
        <!-- 주요 지표 -->
        <div class="grid grid-cols-4 gap-6 mb-8">
            <div onclick="showCardDetail('today')" class="stat-card p-6 rounded-lg cursor-pointer">
                <div class="flex items-center justify-between mb-3">
                    <div class="w-12 h-12 bg-blue-100 rounded flex items-center justify-center">
                        <svg class="w-7 h-7 text-blue-900" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                        </svg>
                    </div>
                    <span class="px-3 py-1 bg-green-100 text-green-700 rounded text-xs font-bold">+12.3%</span>
                </div>
                <div class="text-gray-600 text-sm font-medium mb-1">총 질의 수</div>
                <div class="text-3xl font-bold text-gray-900">152,847</div>
                <div class="text-xs text-gray-500 mt-1">이번 달</div>
            </div>

            <div onclick="showCardDetail('total')" class="stat-card p-6 rounded-lg cursor-pointer">
                <div class="flex items-center justify-between mb-3">
                    <div class="w-12 h-12 bg-blue-100 rounded flex items-center justify-center">
                        <svg class="w-7 h-7 text-blue-900" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"/>
                        </svg>
                    </div>
                    <span class="px-3 py-1 bg-blue-100 text-blue-700 rounded text-xs font-bold">+8.7%</span>
                </div>
                <div class="text-gray-600 text-sm font-medium mb-1">학습 데이터셋</div>
                <div class="text-3xl font-bold text-gray-900">158,392</div>
                <div class="text-xs text-gray-500 mt-1">150k+ 목표 달성</div>
            </div>

            <div onclick="showCardDetail('response')" class="stat-card p-6 rounded-lg cursor-pointer">
                <div class="flex items-center justify-between mb-3">
                    <div class="w-12 h-12 bg-green-100 rounded flex items-center justify-center">
                        <svg class="w-7 h-7 text-green-700" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/>
                        </svg>
                    </div>
                    <span class="px-3 py-1 bg-green-100 text-green-700 rounded text-xs font-bold">98.3%</span>
                </div>
                <div class="text-gray-600 text-sm font-medium mb-1">응답 정확도</div>
                <div class="text-3xl font-bold text-gray-900">98.3%</div>
                <div class="text-xs text-gray-500 mt-1">RAG 기반</div>
            </div>

            <div onclick="showCardDetail('satisfaction')" class="stat-card p-6 rounded-lg cursor-pointer">
                <div class="flex items-center justify-between mb-3">
                    <div class="w-12 h-12 bg-blue-100 rounded flex items-center justify-center">
                        <svg class="w-7 h-7 text-blue-900" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/>
                        </svg>
                    </div>
                    <span class="px-3 py-1 bg-blue-100 text-blue-700 rounded text-xs font-bold">+15%</span>
                </div>
                <div class="text-gray-600 text-sm font-medium mb-1">활성 사용자</div>
                <div class="text-3xl font-bold text-gray-900">3,247</div>
                <div class="text-xs text-gray-500 mt-1">오늘 접속</div>
            </div>
        </div>

        <div class="grid grid-cols-3 gap-6">
            <!-- 차트 영역 -->
            <div class="col-span-2 gov-card rounded-lg p-6">
                <div class="flex items-center justify-between mb-6">
                    <h3 class="text-lg font-bold text-gray-800">질의 응답 추이</h3>
                    <div class="flex gap-2">
                        <button onclick="changeChartPeriod('today')" class="px-4 py-2 bg-gray-100 text-gray-700 rounded text-sm font-medium hover:bg-gray-200">일간</button>
                        <button onclick="changeChartPeriod('week')" class="px-4 py-2 bg-blue-900 text-white rounded text-sm font-medium">주간</button>
                        <button onclick="changeChartPeriod('month')" class="px-4 py-2 bg-gray-100 text-gray-700 rounded text-sm font-medium hover:bg-gray-200">월간</button>
                    </div>
                </div>
                <div class="h-64">
                    <canvas id="queryChart"></canvas>
                </div>
            </div>

            <!-- 최근 활동 -->
            <div class="gov-card rounded-lg p-6">
                <h3 class="text-lg font-bold text-gray-800 mb-4">최근 활동</h3>
                <div class="space-y-3">
                    <div class="flex items-start gap-3 p-3 bg-blue-50 border border-blue-200 rounded">
                        <div class="w-10 h-10 bg-blue-900 rounded flex items-center justify-center flex-shrink-0">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                            </svg>
                        </div>
                        <div class="flex-1 min-w-0">
                            <p class="text-sm font-medium text-gray-900">학습 데이터 업데이트</p>
                            <p class="text-xs text-gray-600">+523건 추가</p>
                            <p class="text-xs text-gray-500 mt-1">5분 전</p>
                        </div>
                    </div>

                    <div class="flex items-start gap-3 p-3 bg-gray-50 border border-gray-200 rounded">
                        <div class="w-10 h-10 bg-blue-900 rounded flex items-center justify-center flex-shrink-0">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/>
                            </svg>
                        </div>
                        <div class="flex-1 min-w-0">
                            <p class="text-sm font-medium text-gray-900">신규 의도 등록</p>
                            <p class="text-xs text-gray-600">의료기기 인증 관련</p>
                            <p class="text-xs text-gray-500 mt-1">12분 전</p>
                        </div>
                    </div>

                    <div class="flex items-start gap-3 p-3 bg-gray-50 border border-gray-200 rounded">
                        <div class="w-10 h-10 bg-green-700 rounded flex items-center justify-center flex-shrink-0">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
                            </svg>
                        </div>
                        <div class="flex-1 min-w-0">
                            <p class="text-sm font-medium text-gray-900">시나리오 수정</p>
                            <p class="text-xs text-gray-600">입주기업 절차 업데이트</p>
                            <p class="text-xs text-gray-500 mt-1">23분 전</p>
                        </div>
                    </div>

                    <div class="flex items-start gap-3 p-3 bg-gray-50 border border-gray-200 rounded">
                        <div class="w-10 h-10 bg-blue-900 rounded flex items-center justify-center flex-shrink-0">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/>
                            </svg>
                        </div>
                        <div class="flex-1 min-w-0">
                            <p class="text-sm font-medium text-gray-900">사용자 피드백</p>
                            <p class="text-xs text-gray-600">만족도 평가 +47건</p>
                            <p class="text-xs text-gray-500 mt-1">1시간 전</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 의도 분석 & QA 관리 -->
        <div class="grid grid-cols-2 gap-6 mt-6">
            <div class="gov-card rounded-lg p-6">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-bold text-gray-800">의도 분석 현황</h3>
                    <button class="text-sm text-blue-900 font-medium hover:underline">전체보기 →</button>
                </div>
                <div class="space-y-3">
                    <div class="flex items-center justify-between p-3 bg-gray-50 border border-gray-200 rounded">
                        <div class="flex items-center gap-3">
                            <span class="text-2xl">🏢</span>
                            <div>
                                <div class="font-medium text-gray-900">입주기업 문의</div>
                                <div class="text-xs text-gray-600">2,847건</div>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="text-sm font-bold text-blue-900">98.5%</div>
                            <div class="text-xs text-gray-500">정확도</div>
                        </div>
                    </div>
                    <div class="flex items-center justify-between p-3 bg-gray-50 border border-gray-200 rounded">
                        <div class="flex items-center gap-3">
                            <span class="text-2xl">📋</span>
                            <div>
                                <div class="font-medium text-gray-900">R&D 지원사업</div>
                                <div class="text-xs text-gray-600">1,923건</div>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="text-sm font-bold text-blue-900">97.2%</div>
                            <div class="text-xs text-gray-500">정확도</div>
                        </div>
                    </div>
                    <div class="flex items-center justify-between p-3 bg-gray-50 border border-gray-200 rounded">
                        <div class="flex items-center gap-3">
                            <span class="text-2xl">🔬</span>
                            <div>
                                <div class="font-medium text-gray-900">시설·장비 예약</div>
                                <div class="text-xs text-gray-600">1,534건</div>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="text-sm font-bold text-green-700">99.1%</div>
                            <div class="text-xs text-gray-500">정확도</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="gov-card rounded-lg p-6">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-bold text-gray-800">Q&A 관리</h3>
                    <button class="px-4 py-2 bg-blue-900 text-white rounded text-sm font-medium">+ 신규 등록</button>
                </div>
                <div class="space-y-3">
                    <div class="p-3 bg-blue-50 border border-blue-200 rounded">
                        <div class="flex items-start justify-between mb-2">
                            <div class="flex-1">
                                <p class="text-sm font-medium text-gray-900">바이오 시설 이용료는 어떻게 되나요?</p>
                                <p class="text-xs text-gray-600 mt-1">시설별로 상이하며, 입주기업 할인 적용됩니다...</p>
                            </div>
                            <span class="px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-bold ml-2">활성</span>
                        </div>
                        <div class="flex items-center justify-between text-xs text-gray-500">
                            <span>조회 847회</span>
                            <span>정확도 98.7%</span>
                        </div>
                    </div>
                    <div class="p-3 bg-gray-50 border border-gray-200 rounded">
                        <div class="flex items-start justify-between mb-2">
                            <div class="flex-1">
                                <p class="text-sm font-medium text-gray-900">R&D 지원사업 신청 방법은?</p>
                                <p class="text-xs text-gray-600 mt-1">온라인 접수 후 서류 심사를 진행합니다...</p>
                            </div>
                            <span class="px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-bold ml-2">활성</span>
                        </div>
                        <div class="flex items-center justify-between text-xs text-gray-500">
                            <span>조회 623회</span>
                            <span>정확도 97.3%</span>
                        </div>
                    </div>
                    <div class="p-3 bg-gray-50 border border-gray-200 rounded">
                        <div class="flex items-start justify-between mb-2">
                            <div class="flex-1">
                                <p class="text-sm font-medium text-gray-900">임상시험 절차가 궁금합니다</p>
                                <p class="text-xs text-gray-600 mt-1">IRB 승인 후 진행 가능하며...</p>
                            </div>
                            <span class="px-2 py-1 bg-yellow-100 text-yellow-700 rounded text-xs font-bold ml-2">검토중</span>
                        </div>
                        <div class="flex items-center justify-between text-xs text-gray-500">
                            <span>조회 412회</span>
                            <span>정확도 95.1%</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const ctx = document.getElementById('queryChart').getContext('2d');
        const gradient1 = ctx.createLinearGradient(0, 0, 0, 300);
        gradient1.addColorStop(0, 'rgba(30, 64, 175, 0.3)');
        gradient1.addColorStop(1, 'rgba(30, 64, 175, 0.0)');

        const gradient2 = ctx.createLinearGradient(0, 0, 0, 300);
        gradient2.addColorStop(0, 'rgba(5, 150, 105, 0.3)');
        gradient2.addColorStop(1, 'rgba(5, 150, 105, 0.0)');

        new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['월', '화', '수', '목', '금', '토', '일'],
                datasets: [{
                    label: '총 질의',
                    data: [850, 920, 1050, 980, 1120, 760, 890],
                    borderColor: '#1e40af',
                    backgroundColor: gradient1,
                    borderWidth: 3,
                    fill: true,
                    tension: 0.4
                }, {
                    label: '성공 응답',
                    data: [820, 895, 1025, 960, 1095, 745, 875],
                    borderColor: '#059669',
                    backgroundColor: gradient2,
                    borderWidth: 3,
                    fill: true,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                    legend: { display: true, position: 'top' }
                },
                scales: {
                    y: { beginAtZero: true, grid: { color: 'rgba(0,0,0,0.05)' } },
                    x: { grid: { display: false } }
                }
            }
        });

        function showTab(tab) {
            alert('탭 전환: ' + tab);
        }

        // Interactive Functions
        function showCardDetail(type) {
            const details = {
                'today': '총 질의 수: 152,847건\n이번 달 누적 데이터',
                'total': '학습 데이터셋: 158,392개\n150k+ 목표 달성',
                'response': '응답 정확도: 98.3%\nRAG 기반 시스템',
                'satisfaction': '활성 사용자: 3,247명\n오늘 접속 사용자'
            };
            alert(details[type] || '상세 정보');
        }

        function changeChartPeriod(period) {
            document.querySelectorAll('[onclick^="changeChartPeriod"]').forEach(btn => {
                btn.classList.remove('bg-blue-900', 'text-white');
                btn.classList.add('bg-gray-100', 'text-gray-700');
            });
            event.target.classList.add('bg-blue-900', 'text-white');
            event.target.classList.remove('bg-gray-100', 'text-gray-700');
            alert(period + ' 데이터로 변경됨');
        }

        function showRowDetail(data) {
            alert('상담 상세\n\n' + JSON.stringify(data, null, 2));
        }

        function searchTable() {
            const filter = document.getElementById('searchInput')?.value.toUpperCase() || '';
            document.querySelectorAll('tbody tr').forEach(row => {
                row.style.display = row.textContent.toUpperCase().includes(filter) ? '' : 'none';
            });
        }

        function exportData(format) {
            alert(format + ' 형식으로 데이터를 내보냅니다. (시뮬레이션)');
        }

        function refreshData() {
            alert('데이터를 새로고침합니다.');
            location.reload();
        }
    </script>
</body>
</html>
